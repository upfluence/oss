//
// User Inputs
// --------------------------------------------------

@import '../core/_colors';
@import '../core/_variables';
@import '../mixins/_coloring';
@import '../mixins/_inputs';

label {
  color: @upf-primary-rock-blue;
  font-weight: 100;
}


// Base styles
// This class can be applied on Input elements, Textareas, or selects.
// --------------------------------------------------

.upf-input {
  border: 1px solid @upf-gray;
  border-radius: @default-radius;
  height: @input-size-default;
  padding: 0 1em;
  color: @upf-primary-rock-blue;
  background-color: @upf-gray-light;
  box-shadow: none;

  &:focus {
    .remove-outline;
    border: 1px solid @upf-gray-dark;
  }

  &::placeholder { color: @upf-primary-rock-blue-light; }
}


// Alternate user inputs
// --------------------------------------------------

.upf-input--textarea {
  width: 100%;
}

//
// A Select dropdown
//
.upf-select {
  .upf-input;
  color: @color-text;

  cursor: pointer;

  // the background-image is just Font Awesome's chevron-down in SVG.
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDM1Ljk3MDk4MyAyMy4wOTE1MTgiCiAgIGhlaWdodD0iNi41MTY5Mzk2bW0iCiAgIHdpZHRoPSIxMC4xNTE4MTFtbSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAyLjAxNDUxLC00MDcuMTIyMjUpIgogICAgIGlkPSJsYXllcjEiPgogICAgPHRleHQKICAgICAgIGlkPSJ0ZXh0MzMzNiIKICAgICAgIHk9IjYyOS41MDUwNyIKICAgICAgIHg9IjI5MS40Mjg1NiIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjQwcHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIj48dHNwYW4KICAgICAgICAgeT0iNjI5LjUwNTA3IgogICAgICAgICB4PSIyOTEuNDI4NTYiCiAgICAgICAgIGlkPSJ0c3BhbjMzMzgiPjwvdHNwYW4+PC90ZXh0PgogICAgPGcKICAgICAgIGlkPSJ0ZXh0MzM0MCIKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTo0MHB4O2xpbmUtaGVpZ2h0OjEyNSU7Zm9udC1mYW1pbHk6Rm9udEF3ZXNvbWU7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpGb250QXdlc29tZTtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGgzMzQ1IgogICAgICAgICBzdHlsZT0iZmlsbDojMzMzMzMzO2ZpbGwtb3BhY2l0eToxIgogICAgICAgICBkPSJtIDIzNy41NjY5Niw0MTMuMjU1MDcgYyAwLjU1ODA0LC0wLjU1ODA0IDAuNTU4MDQsLTEuNDczMjIgMCwtMi4wMzEyNSBsIC0zLjcwNTM1LC0zLjY4MzA0IGMgLTAuNTU4MDQsLTAuNTU4MDQgLTEuNDUwOSwtMC41NTgwNCAtMi4wMDg5MywwIEwgMjIwLDQxOS4zOTM0NiAyMDguMTQ3MzIsNDA3LjU0MDc4IGMgLTAuNTU4MDMsLTAuNTU4MDQgLTEuNDUwODksLTAuNTU4MDQgLTIuMDA4OTMsMCBsIC0zLjcwNTM1LDMuNjgzMDQgYyAtMC41NTgwNCwwLjU1ODAzIC0wLjU1ODA0LDEuNDczMjEgMCwyLjAzMTI1IGwgMTYuNTYyNSwxNi41NDAxNyBjIDAuNTU4MDMsMC41NTgwNCAxLjQ1MDg5LDAuNTU4MDQgMi4wMDg5MiwwIGwgMTYuNTYyNSwtMTYuNTQwMTcgeiIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=');
  background-origin: content-box;
  background-position: right center;
  background-repeat: no-repeat;
  background-size: 10px;

  height: 37px;
  padding-top: 0;
  padding-bottom: 0;

  // Remove default browsers Select style
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}


// Input Sizes
// --------------------------------------------------

.upf-input--small {
  height: @input-size-sm;
}


//
// Offer some feedback on an input.
// Feedbacks can be either an Error or a Help offer.
// For documentation about input feedback positions, see:
// https://medium.com/@andrew.burton/form-validation-best-practices-8e3bec7d0549#.oij0nsm6o

.upf-input-container {
  // Override selectize height
  .selectize-input {
    height: @input-size-default;
    border-radius: @default-radius;
  }
}

.selectize-control.multi .selectize-input > div {
  border-radius: @default-radius;
  padding-left: 8px;
}

.selectize-control.multi .selectize-input.has-items {
  padding-top: 7px;
}

.upf-input-container--has-feedback {
  position: relative;

  .upf-input-feedback {
    i {
      display: block;
      font-size: 2em;
      position: absolute;
      right: 1rem;
      top: -3.3rem;
      z-index: 2;
    }

    // Takes the aria-label attribute of the icon and uses it in a more stylish container
    // than the default browser's one.
    i[aria-label]:hover:after {
      pointer-events: none;
      content: attr(aria-label);
      border-radius: @default-radius;

      font-family: @font-text-body;
      font-size: 14px;

      padding: 7px;
      position: absolute;
      right: 100%;
      top: 100%;
      white-space: nowrap;
    }
  }
}

//
// An input group that has an error attached to it
//
.upf-input-container--errorful {
  .upf-input-container--has-feedback;


  .input-group {
    .setup-input-group-addon(@upf-feedback-error);
  }

  .upf-input, .upf-input:focus {
    border: 1px solid @upf-feedback-error;
  }

  .upf-input-feedback--error {
    .set-feedback-colors(@upf-feedback-error, @upf-feedback-error, @color-text-contrast);
  }
}

//
// An input group offering some help
//
.upf-input-container--has-help {
  .upf-input-container--has-feedback;

  .upf-input-feedback--help {
    .set-feedback-colors(@upf-primary-rock-blue, @upf-primary-rock-blue, @color-text-contrast);
  }
}
