@import '../core/_colors';
@import '../core/_variables';
@import '../mixins/_coloring';
@import '../mixins/_inputs';

//
// Offer some feedback on an input.
// Feedbacks can be either an Error or a Help offer.
// For documentation about input feedback positions, see:
// https://medium.com/@andrew.burton/form-validation-best-practices-8e3bec7d0549#.oij0nsm6o
//
.upf-input-container--has-feedback {
  position: relative;

  .upf-input-feedback {
    i {
      display: block;
      font-size: 2em;
      position: absolute;
      right: 1rem;
      top: -3.3rem;
      z-index: 2;
    }

    // Takes the aria-label attribute of the icon and uses it in a more stylish container
    // than the default browser's one.
    i[aria-label]:hover:after {
      pointer-events: none;
      content: attr(aria-label);
      border-radius: @default-radius;

      font-family: @font-text-body;
      font-size: 14px;

      padding: 7px;
      position: absolute;
      right: 100%;
      top: 100%;
      white-space: nowrap;
    }
  }
}

//
// An input group that has an error attached to it
//
.upf-input-container--errorful {
  .upf-input-container--has-feedback;


  .input-group {
    .setup-input-group-addon(@upf-feedback-error);
  }

  .upf-input, .upf-input:focus {
    border: 1px solid @upf-feedback-error;
  }

  .upf-input-feedback--error {
    .set-feedback-colors(@upf-feedback-error, @upf-feedback-error, @color-text-contrast);
  }
}

//
// An input group offering some help
//
.upf-input-container--has-help {
  .upf-input-container--has-feedback;

  .upf-input-feedback--help {
    .set-feedback-colors(@upf-primary-rock-blue, @upf-primary-rock-blue, @color-text-contrast);
  }
}


//
// A standard text field.
// This class can be applied on Input elements, Textareas, or selects.
//
.upf-input {
  border: 1px solid @upf-gray;
  border-radius: @default-radius;
  height: 37px;
  padding: 0 1em;
  color: @upf-primary-rock-blue;
  background-color: @upf-gray-light;
  box-shadow: none;

  &:focus {
    .remove-outline;
    border: 1px solid @upf-gray-dark;
  }

  &::placeholder {
  color: @upf-primary-rock-blue-light;
  }
}

//
// Default Label style
//
label {
  color: @upf-primary-rock-blue;
  opacity: 0.5;
  font-weight: 100;
}


//
// A smaller text field
// Can be useful for fields like numbers...
//
.upf-input-small {
  width: 45%;
}

//
// A textarea field.
//
.upf-input--textarea {
  width: 100%;
}

//
// A Select dropdown
//
.upf-select {
  .upf-input;
  color: @upf-primary-rock-blue;

  cursor: pointer;

  // the background-image is just Font Awesome's chevron-down in SVG.
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIg0KCSBpZD0ic3ZnMiIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjguOCAxOC41Ig0KCSBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyOC44IDE4LjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM4QTk5QjM7fQ0KPC9zdHlsZT4NCjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDIuMDE0NTEsLTQwNy4xMjIyNSkiPg0KCTxnIGlkPSJ0ZXh0MzM0MCI+DQoJCTxwYXRoIGlkPSJwYXRoMzM0NSIgY2xhc3M9InN0MCIgZD0iTTIzMC41LDQxMmMwLjQtMC40LDAuNC0xLjIsMC0xLjZsLTMtMi45Yy0wLjQtMC40LTEuMi0wLjQtMS42LDBsLTkuNSw5LjVsLTkuNS05LjUNCgkJCWMtMC40LTAuNC0xLjItMC40LTEuNiwwbC0zLDIuOWMtMC40LDAuNC0wLjQsMS4yLDAsMS42bDEzLjIsMTMuMmMwLjQsMC40LDEuMiwwLjQsMS42LDBMMjMwLjUsNDEyTDIzMC41LDQxMnoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==');
  background-origin: content-box;
  background-position: right center;
  background-repeat: no-repeat;
  background-size: 10px;

  height: 37px;
  padding-top: 0;
  padding-bottom: 0;

  // Remove default browsers Select style
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

// some global Selectize styling
.selectize-input {
  border: 1px solid @upf-gray;
  border-radius: @default-radius;
  height: 37px;
  color: @upf-primary-rock-blue;
  background-color: @upf-gray-light;
  box-shadow: none !important;

  input {
    &::placeholder {
      color: @upf-primary-rock-blue-light;
    }
  }

  &:focus, &:active {
    .remove-outline;
    border: 1px solid @upf-gray-dark;
    box-shadow: none;
  }
}
